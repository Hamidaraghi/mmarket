{"version":3,"sources":["../../src/pages/menu/menu.module.ts","../../src/pages/menu/menu.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Menu } from './menu';\r\n\r\n@NgModule({\r\n  declarations: [Menu],\r\n  imports: [IonicPageModule.forChild(Menu)],\r\n})\r\nexport class MenuPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.module.ts","import { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { Cart } from './../cart/cart';\nimport { Storage } from '@ionic/storage';\nimport { Component, ViewChild, NgZone } from '@angular/core';\nimport { NavController, NavParams, ModalController, Events, IonicPage, AlertController } from 'ionic-angular';\nimport { WooCommerceProvider } from '../../providers/woo-commerce/woo-commerce';\nimport { AppVersion } from '@ionic-native/app-version';\n\n\n@IonicPage({})\n@Component({\n  selector: 'page-menu',\n  templateUrl: 'menu.html',\n})\nexport class Menu {\n  showLevel1 = null;\n  showSubmenu: boolean = false;\n  homePage: any;\n  WooCommerce: any;\n  categories: any[] = [];\n  loggedIn: boolean;\n  user: any = {};\n  PasswordresetPage = 'PasswordresetPage'\n  @ViewChild(\"content\") childNavCtrl: NavController;\n\n  constructor(public events: Events, public navCtrl: NavController, public navParams: NavParams, public storage: Storage,\n    public modalController: ModalController, private WP: WooCommerceProvider, private InAppBrowser: InAppBrowser, public ngZone: NgZone,\n    private appVersion: AppVersion, private alertCtrl: AlertController) {\n     \n    this.appVersion.getVersionCode().then(data=>{\n      console.log('**8888888888**',data);\n      this.versionCheck(data);\n    })\n  \n/*     console.log('app name',this.appVersion.getAppName());\n    console.log('app Package Name',this.appVersion.getPackageName());\n    console.log('app Version Code',this.appVersion.getVersionCode());\n    console.log('app Version Number',this.appVersion.getVersionNumber()); */\n                                    \n    this.user = {};\n    this.homePage = 'HomePage';\n    this.categories = [];\n\n    this.WooCommerce = WP.init();\n\n    this.WooCommerce.getAsync('products/categories?per_page=100').then((data) => {\n      console.log(data);\n      \n      let temp: any[] = JSON.parse(data.body);\n\n      for (let i = 0; i < temp.length; i++) {\n        if (temp[i].parent == 0) {\n\n          temp[i].subCategories = [];\n\n          this.categories.push(temp[i]);\n        } \n      }\n\n      //Groups Subcategories\n      for (let i = 0; i < temp.length; i++) {\n        for (let j = 0; j < this.categories.length; j++) {\n          //console.log(\"Checking \" + j + \" \" + i)\n          if (this.categories[j].id == temp[i].parent) {\n            this.categories[j].subCategories.push(temp[i]);\n          }\n        }\n      }\n\n      console.log(this.categories);\n      console.log((temp));\n    }\n      , (err) => { console.log(err); })\n\n    this.events.subscribe('userLoginInfo', (loggedin, user) => {\n      console.log(\"userLoginInfo:\", user, ':', loggedin)\n      this.loggedIn = loggedin\n      if (user) {\n        ngZone.run(()=>{\n          this.user = user.user\n        })\n      } else {\n        this.user = null;\n        ngZone.run(()=>{          \n          this.loggedIn = false\n        })\n      }\n    })\n\n  }//end of constructor\n  openCategoryPage(categoryId) {\n    this.childNavCtrl.push('ProductsByCategory', { \"id\": categoryId });\n  }\n\n  ionViewDidEnter() {\n    this.storage.ready().then(() => {\n      this.storage.get(\"userLoginInfo\").then((userLoginInfo) => {\n        if (userLoginInfo != null) {\n          console.log(\"A user already logged in...\")\n          this.user = userLoginInfo.user;\n          console.log(userLoginInfo);\n          this.loggedIn = true;\n        } else {\n          console.log(\"No user logged in\")\n          this.user = {};\n          this.loggedIn = false;\n        }\n      }, )\n    }, )\n  }\n\n  openPage(pageName: string) {\n    if (pageName == \"signup\") {\n      this.childNavCtrl.push('Signup');\n    }\n    if (pageName == \"login\") {\n      this.childNavCtrl.push('Login');\n    }\n    if (pageName == \"cart\") {\n      this.childNavCtrl.push(Cart)\n    }\n    if (pageName == \"myorders\") {\n      this.childNavCtrl.push('MyordersPage', { \"userId\": this.user.id });\n    }\n    if (pageName == \"MyaccountPage\"){\n      this.childNavCtrl.push('MyaccountPage', { \"user\": this.user });\n\n    }\n    if (pageName == \"logout\") {\n      this.events.publish('userLoginInfo', false, null);\n      this.storage.remove('cart');\n      this.storage.remove(\"userLoginInfo\").then(() => {\n        console.log(\"User logged Out...\");\n        this.loggedIn = false;\n        this.user = {};\n      }, )\n    }\n  }\n\n  openLink(url: string, external: boolean = false) {\n    if (!url) return;\n    if (url.indexOf(\"link://\") == 0) {\n      url = url.replace(\"link://\", \"\");\n      console.log(url)\n      let data = url.split(\"/\");\n      console.log(data);\n      /* if (data[0] == \"product\") { this.navCtrl.push(this.ProductDetails, { id: data[1] }) }\n              else if (data[0] == \"product-category\") this.navCtrl.push(this.ProductsByCategory, { id: data[1] });\n              else if (data[0] == \"bookmark\") this.navCtrl.push(this.FavoritePage);\n              else if (data[0] == \"about-us\") this.navCtrl.push(this.AboutPage);\n              else if (data[0] == \"term-and-conditions\") this.navCtrl.push(this.TermsPage);\n              else if (data[0] == \"privacy-policy\") this.navCtrl.push(this.PrivacyPage);\n              else if (data[0] == \"contact-us\") this.navCtrl.push(this.ContactPage);\n       */\n    } else if (!external) {\n      this.InAppBrowser.create(url, \"_blank\", \"location=yes\");\n      console.log(url);\n    }\n  }\n\n  menuItemHandler(): void {\n    this.showSubmenu = !this.showSubmenu;\n  }\n\n  toggleLevel1(idx) {\n    if (this.isLevel1Shown(idx)) {\n      this.showLevel1 = null;\n    } else {\n      this.showLevel1 = idx;\n    }\n  };\n\n  isLevel1Shown(idx) {\n    return this.showLevel1 === idx;\n  };\n\n\nversionCheck(version){\n  this.WP.WooCommerce3.getAsync('sep/v1/version-check?version='+version).then((data)=>{\n    console.log('^^^^^^^^^',data.body)\n    let versionData = JSON.parse(data.body);\n    if (!versionData.up_to_date){\n      this.alertCtrl.create({\n        message: versionData.decsription,\n        title: 'بروزرسانی',\n        buttons: [{\n          text: \"بروزرسانی\",\n          handler: () => {\n            this.InAppBrowser.create(versionData.download_url, \"_system\", \"location=yes\");\n          }\n        }, {\n          text: 'خب',\n          handler: () =>{\n            console.log('روی دکمه خب کلیک شد')\n          }\n        }],\n        cssClass: 'rtl'\n\n      }).present();\n    }\n  })\n\n}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.ts"],"sourceRoot":""}