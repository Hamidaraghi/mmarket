{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../node_modules/rxjs/add/operator/map.js","../../src/pages/signup/signup.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { Signup } from './signup';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [Signup],\r\n  imports: [IonicPageModule.forChild(Signup)],\r\n})\r\nexport class SignupPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/map.js\n// module id = 917\n// module chunks = 2 3","import { WooCommerceProvider } from './../../providers/woo-commerce/woo-commerce';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { LoadingController } from 'ionic-angular/components/loading/loading-controller';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, ToastController, AlertController, IonicPage } from 'ionic-angular';\nimport { Http, Headers } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@IonicPage({})\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class Signup {\n  WooCommerce: any;\n  newUser: any = {};\n  billing_shipping_same: boolean;\n  spinner: any;\n  signupValidator: FormGroup;\n  submitAttempt: boolean = false;\n  timer: number = 120;\n  timeOut: any = {}\n  interval: any = {};\n  sendCodeSubmitAttempt: boolean = false;\n  secret: string = '';\n  secretMatch: string = '';\n\n  // parent affiliate:\n  affiliateId: number = 0;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public toastCtrl: ToastController,\n    public alertCtrl: AlertController, public loadingCtrl: LoadingController, public formBuilder: FormBuilder\n    , public wp: WooCommerceProvider, private http: Http) {\n\n    //validating form\n    this.signupValidator = formBuilder.group({\n      firstName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Zا-ی ]*')])],\n      lastName: ['', Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Zا-ی ]*')])],\n      //email: ['', Validators.pattern('^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$')],\n      //postCode: ['', Validators.compose([Validators.required, Validators.pattern('[0-9]*'), Validators.maxLength(10)])],\n      userPhone: ['', Validators.compose([Validators.required, Validators.pattern('^09[0-9]*'), Validators.maxLength(11), Validators.minLength(11)])],\n      //address: ['', Validators.compose([Validators.required, Validators.minLength(10), Validators.maxLength(100)])],\n      rules: ['false', Validators.requiredTrue],\n      password: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\n      //phone: ['', Validators.compose([Validators.pattern('[0-90-9]*'), Validators.maxLength(11), Validators.minLength(11)])],\n      affiliateId: ['', Validators.pattern('[0-9]*')]\n\n    })\n\n    this.newUser.billing = {};\n    this.newUser.shipping = {};\n    this.billing_shipping_same = true;\n\n    this.WooCommerce = wp.WooCommerce;\n\n    /* this.wp.WooCommerce3.getAsync('sep/v1/get-country-states').then((data)=>{\n      let states = (JSON.parse(data.body))\n\n        Object.keys(states).forEach(stateCode => {\n        let stateName = states[stateCode];\n        this.states.push({stateCode, stateName})\n      });\n\n      //console.log(this.states[0].stateName)\n      \n    }) */\n\n  }// end constructor\n\n  sendSms(phone) {\n\n    this.timer = 120;\n\n    this.sendCodeSubmitAttempt = true\n    this.secret = (Math.floor(Math.random() * 90000) + 10000).toString();\n    //console.log(this.secret);\n    let smsData = { \"to\": this.newUser.username, \"code\": this.secret, \"pattern_code\": \"681\", \"input_data\": { \"code\": \"854\", \"company\": \"mm\" } }\n    this.wp.WooCommerce3.postAsync(\"sep/v1/send-sms\", smsData).then(res => {\n      console.log(res);\n      if (res.status == 200) {\n        this.toastCtrl.create({\n          message: \"پیامک حاوی کد تغییر رمز به شماره تلفن همراه شما ارسال شد.\"\n          , duration: 5000\n        }).present();\n\n\n        this.timeOut = setTimeout(() => {\n          this.sendCodeSubmitAttempt = false;\n          alert(' بازیابی رمز بیش از محدوده زمانی به طول انجامید، لطفا بعدا دوباره تلاش کنید.')\n          this.secret = null;\n\n          clearInterval(this.interval);\n\n        }, this.timer * 1000);\n\n        this.interval = setInterval(() => {\n          if (this.timer >= 0)\n            this.timer--;\n        }, 1000)\n\n\n      } else {\n        this.toastCtrl.create({\n          message: \"ارسال پیامک تایید با خطا مواجه شد لطفا بعدا دوباره تلاش فرمایید.\"\n          , duration: 5000\n        }).present();\n      }\n    }, error => {\n      console.log(error);\n      this.toastCtrl.create({\n        message: \"ارسال پیامک تایید با خطا مواجه شد لطفا بعدا دوباره تلاش فرمایید.\"\n        , duration: 5000\n      }).present();\n    });\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SignupPage');\n  }\n\n  setBillingToShipping() {\n    this.billing_shipping_same = !this.billing_shipping_same;\n  }\n\n  signup() {\n    console.log(this.signupValidator)\n    this.submitAttempt = true;\n    if (!this.signupValidator.valid) {\n      alert(\"!لطفا ورودی ها را کنترل نمایید و موارد ستاره دار را به درستی تکمیل نمایید.\");\n      return;\n    }\n\n    this.showSpinner()\n\n    let customerData = {\n      \"email\": this.newUser.email,\n      \"first_name\": this.newUser.first_name,\n      \"last_name\": this.newUser.last_name,\n      \"username\": this.newUser.username,\n      \"password\": this.newUser.password,\n      \"confirm_password\": this.newUser.confirm_password,\n      \"billing\": {\n        \"first_name\": this.newUser.first_name,\n        \"last_name\": this.newUser.last_name,\n        //\"company\": \"\",\n        //\"address_1\": this.newUser.billing.address_1,\n        //\"address_2\": this.newUser.billing.address_2,\n        //\"city\": this.newUser.billing.city,\n        //\"state\": this.newUser.billing.state,\n        //\"postcode\": this.newUser.billing.postcode,\n        //\"country\": this.newUser.billing.country,\n        //\"email\": this.newUser.email,\n        //\"phone\": this.newUser.billing.phone\n      },\n      \"shipping\": {\n        \"first_name\": this.newUser.first_name,\n        \"last_name\": this.newUser.last_name,\n        //\"company\": \"\",\n        //\"address_1\": this.newUser.shipping.address_1,\n        //\"address_2\": this.newUser.shipping.address_2,\n        //\"city\": this.newUser.shipping.city,\n        //\"state\": this.newUser.shipping.state,\n        //\"postcode\": this.newUser.shipping.postcode,\n        //\"country\": this.newUser.shipping.country\n      }\n    }\n\n    if (this.billing_shipping_same) {\n      this.newUser.shipping = this.newUser.billing;\n    }\n\n    /* this.WooCommerce.post('customers', customerData, function(err, data, res) {\n          console.log(JSON.parse(res));\n        }); */\n    this.WooCommerce.postAsync('customers', customerData).then((data) => {\n\n      if (data.statusCode == 201) { // customer registered\n\n        // add signup referral and relation\n        if (this.affiliateId) {\n\n          let referralWpUid = JSON.parse(data.body).id\n\n          console.log(\"referralWpUid is:\", referralWpUid);\n\n          //add relation between affiliate and referral\n          this.wp.addAffiliateRelation(this.affiliateId, referralWpUid);\n\n          //get rank amount and other affiliate data\n          this.wp.getAffiliateRankDetails(this.affiliateId).then(data => {\n            console.log(\"@@@@@@@@@@@@@@@@@@@\", data)\n            let rankDetails = data;\n\n            if (rankDetails.sign_up_amount_value >= 0){\n            //add referral          \n            let addReferralData = {\n              \"refferal_wp_uid\": referralWpUid, \"campaign\": \"\", \"affiliate_id\": this.affiliateId, \"visit_id\": \"\", \"description\": \"register user via app\",\n              \"source\": \"app signup\", \"reference\": \"userSignup:\" + referralWpUid, \"reference_details\": \"app-register\", \"parent_referral_id\": \"\", \"child_referral_id\": \"\",\n              \"amount\": rankDetails.sign_up_amount_value, \"currency\": \"IRT\", \"status\": 1, \"payment\": 0\n            }\n\n            this.wp.addReferral(addReferralData);\n            \n            }\n\n\n          })\n\n\n        }\n\n\n\n        //show success message\n        this.alertCtrl.create({\n          title: \"حساب کاربری ساخته شد\",\n          message: \"حساب کاربری شما با موفقیت ساخته شد. لطفا برای ادامه، وارد شوید!\",\n          cssClass: \"rtl\",\n          buttons: [{\n            text: \"ورود\", handler: () => {\n              this.navCtrl.push('Login');\n            },\n          }]\n\n        }).present();\n      } else if (data.statusCode == 400) {\n        let message = JSON.parse(data.body).message\n        this.toastCtrl.create({\n          message: message,\n          showCloseButton: true,\n          closeButtonText: \"خب\",\n          cssClass: \"rtl\",\n        }).present();\n      }\n\n      this.hideSpinner();\n\n    }, (err) => { console.log(err); this.hideSpinner() })\n  }\n\n  showSpinner() {\n    this.spinner = this.loadingCtrl.create({\n      spinner: \"dots\"\n    });\n    this.spinner.present();\n  }\n\n  hideSpinner() {\n    this.spinner.dismiss();\n  }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}